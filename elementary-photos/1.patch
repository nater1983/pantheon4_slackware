From ea11cf23db6945df6cc3495fd698456054389371 Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?Corentin=20No=C3=ABl?= <corentin.noel@collabora.com>
Date: Mon, 21 Aug 2023 14:59:29 +0200
Subject: [PATCH] meson: Allow to use geocode-glib-2.0

This is required since the libsoup API bump.
---
 docs/meson.build | 2 +-
 meson.build      | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/docs/meson.build b/docs/meson.build
index aa70a7aa7..5c5b6a528 100644
--- a/docs/meson.build
+++ b/docs/meson.build
@@ -7,7 +7,7 @@ basic_command = [
     '--package-name',meson.project_name(),
     '--package-version', meson.project_version(),
     '--driver', meson.get_compiler('vala').version(),
-    '--pkg', 'geocode-glib-1.0',
+    '--pkg', geocode_glib_dep.name(),
     '--pkg', 'gexiv2',
     '--pkg', 'gtk+-3.0',
     '--pkg', 'gee-0.8',
diff --git a/meson.build b/meson.build
index 9b8377cfe..ea72b8881 100644
--- a/meson.build
+++ b/meson.build
@@ -49,7 +49,7 @@ gexiv2_dep = dependency('gexiv2', version: '>=0.4.90')
 if gexiv2_dep.version().version_compare('>= 0.11')
   add_global_arguments(['--define=GEXIV2_0_11'], language : 'vala')
 endif
-geocode_glib_dep = dependency('geocode-glib-1.0')
+geocode_glib_dep = dependency('geocode-glib-2.0', 'geocode-glib-1.0')
 gmodule_dep = dependency('gmodule-2.0', version: '>=2.24.0')
 gstreamer_dep = dependency('gstreamer-1.0', version: '>=1.0.0')
 gstreamer_base_dep = dependency('gstreamer-base-1.0', version: '>=1.0.0')
